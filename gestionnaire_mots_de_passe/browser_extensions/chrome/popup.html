<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gestionnaire de Mots de Passe</title>
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <div class="container">
    <!-- Header -->
    <header class="header">
      <div class="logo">
        <span class="logo-icon">🔐</span>
        <span class="logo-text">GMP</span>
      </div>
      <div class="status-container">
        <div id="status" class="status disconnected">
          <div class="status-dot"></div>
          <span id="status-text">Déconnecté</span>
        </div>
        <div id="api-status" class="api-status" title="Status API">
          <div class="api-dot"></div>
        </div>
      </div>
    </header>

    <!-- Écran de connexion -->
    <div id="login-screen" class="screen">
      <div class="login-form">
        <h2>Authentification</h2>
        <p>Entrez votre mot de passe maître pour accéder à vos mots de passe.</p>
        
        <div class="form-group">
          <input 
            type="password" 
            id="master-password" 
            placeholder="Mot de passe maître"
            class="form-input"
          >
        </div>
        
        <button id="login-btn" class="btn btn-primary">
          <span class="btn-text">Se connecter</span>
          <div class="btn-loader hidden"></div>
        </button>
        
        <div id="login-error" class="error-message hidden"></div>
      </div>
    </div>

    <!-- Écran principal -->
    <div id="main-screen" class="screen hidden">
      <!-- Actions rapides -->
      <section class="quick-actions">
        <button id="generate-btn" class="action-btn generate" title="Générer un mot de passe">
          <span class="icon">⚡</span>
          <span>Générer</span>
        </button>
        
        <button id="fill-btn" class="action-btn fill" title="Remplir automatiquement">
          <span class="icon">📝</span>
          <span>Remplir</span>
        </button>
        
        <button id="save-btn" class="action-btn save" title="Sauvegarder">
          <span class="icon">💾</span>
          <span>Sauvegarder</span>
        </button>
      </section>

      <!-- Domaine actuel -->
      <section class="current-domain">
        <div class="domain-header">
          <span class="domain-icon">🌐</span>
          <span id="domain-name" class="domain-name">Chargement...</span>
          <button id="refresh-btn" class="refresh-btn" title="Actualiser">🔄</button>
        </div>
        
        <div id="domain-passwords" class="password-list">
          <div class="loading">
            <div class="spinner"></div>
            <span>Chargement des mots de passe...</span>
          </div>
        </div>
      </section>

      <!-- Générateur avancé -->
      <section class="password-generator">
        <div class="generator-header">
          <h3>Générateur Avancé</h3>
          <button id="generator-toggle" class="toggle-btn">▼</button>
        </div>
        
        <div id="generator-content" class="generator-content hidden">
          <div class="generator-options">
            <div class="option-group">
              <label for="length-slider">Longueur: <span id="length-value">16</span></label>
              <input type="range" id="length-slider" min="8" max="32" value="16" class="slider">
            </div>
            
            <div class="checkbox-group">
              <label class="checkbox-label">
                <input type="checkbox" id="uppercase-check" checked>
                <span class="checkmark"></span>
                Majuscules (A-Z)
              </label>
              
              <label class="checkbox-label">
                <input type="checkbox" id="lowercase-check" checked>
                <span class="checkmark"></span>
                Minuscules (a-z)
              </label>
              
              <label class="checkbox-label">
                <input type="checkbox" id="numbers-check" checked>
                <span class="checkmark"></span>
                Chiffres (0-9)
              </label>
              
              <label class="checkbox-label">
                <input type="checkbox" id="symbols-check" checked>
                <span class="checkmark"></span>
                Symboles (!@#$%)
              </label>
            </div>
            
            <div class="generated-password">
              <input type="text" id="generated-password" readonly placeholder="Mot de passe généré" class="password-input">
              <button id="copy-password" class="copy-btn" title="Copier">📋</button>
            </div>
            
            <div class="strength-meter">
              <div class="strength-bar">
                <div id="strength-fill" class="strength-fill"></div>
              </div>
              <span id="strength-text" class="strength-text">Cliquez sur Générer</span>
            </div>
            
            <button id="generate-advanced-btn" class="btn btn-secondary">
              Générer un mot de passe
            </button>
          </div>
        </div>
      </section>

      <!-- Footer -->
      <footer class="footer">
        <div class="version">v2.0.0</div>
        <div class="links">
          <button id="open-app-btn" class="link-btn" title="Ouvrir l'application">🖥️</button>
          <button id="logout-btn" class="link-btn" title="Se déconnecter">🚪</button>
        </div>
      </footer>
    </div>
  </div>

  <script src="popup.js"></script>
</body>
</html>